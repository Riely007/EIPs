<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Described Data and Described Transactions | 以太坊改进提案 EIPs</title>
    <meta name="generator" content="VuePress 1.8.2">
    
    <meta name="description" content="以太坊改进提案（EIPs）描述了以太坊平台的标准，包括核心协议规范，客户端API和合约标准。">
    
    <link rel="preload" href="/assets/css/0.styles.5d34d66f.css" as="style"><link rel="preload" href="/assets/js/app.3c081c0d.js" as="script"><link rel="preload" href="/assets/js/3.afc73834.js" as="script"><link rel="preload" href="/assets/js/300.b538064a.js" as="script"><link rel="prefetch" href="/assets/js/10.1f5e4f3e.js"><link rel="prefetch" href="/assets/js/100.5e83168e.js"><link rel="prefetch" href="/assets/js/101.abc1c66c.js"><link rel="prefetch" href="/assets/js/102.f1608d9e.js"><link rel="prefetch" href="/assets/js/103.50677a84.js"><link rel="prefetch" href="/assets/js/104.e9244ddc.js"><link rel="prefetch" href="/assets/js/105.74bb2b2c.js"><link rel="prefetch" href="/assets/js/106.78821836.js"><link rel="prefetch" href="/assets/js/107.f2cad26b.js"><link rel="prefetch" href="/assets/js/108.806c491a.js"><link rel="prefetch" href="/assets/js/109.2536f3b5.js"><link rel="prefetch" href="/assets/js/11.19d07763.js"><link rel="prefetch" href="/assets/js/110.aa8e5dff.js"><link rel="prefetch" href="/assets/js/111.486fd49e.js"><link rel="prefetch" href="/assets/js/112.0e5dc443.js"><link rel="prefetch" href="/assets/js/113.14d95a60.js"><link rel="prefetch" href="/assets/js/114.1282f1e1.js"><link rel="prefetch" href="/assets/js/115.8f4357cd.js"><link rel="prefetch" href="/assets/js/116.faa46692.js"><link rel="prefetch" href="/assets/js/117.ce807443.js"><link rel="prefetch" href="/assets/js/118.c075df33.js"><link rel="prefetch" href="/assets/js/119.c8959574.js"><link rel="prefetch" href="/assets/js/12.cc14cc21.js"><link rel="prefetch" href="/assets/js/120.a997950d.js"><link rel="prefetch" href="/assets/js/121.d55fab26.js"><link rel="prefetch" href="/assets/js/122.0d55f0f1.js"><link rel="prefetch" href="/assets/js/123.f0ef1c2b.js"><link rel="prefetch" href="/assets/js/124.84d00fe3.js"><link rel="prefetch" href="/assets/js/125.64e003e7.js"><link rel="prefetch" href="/assets/js/126.a31044d7.js"><link rel="prefetch" href="/assets/js/127.1ff3a4af.js"><link rel="prefetch" href="/assets/js/128.38dfcf65.js"><link rel="prefetch" href="/assets/js/129.39594e41.js"><link rel="prefetch" href="/assets/js/13.79199e7b.js"><link rel="prefetch" href="/assets/js/130.e85ffe06.js"><link rel="prefetch" href="/assets/js/131.fd90a8ff.js"><link rel="prefetch" href="/assets/js/132.62043b85.js"><link rel="prefetch" href="/assets/js/133.292c85d5.js"><link rel="prefetch" href="/assets/js/134.720824f2.js"><link rel="prefetch" href="/assets/js/135.330b0de9.js"><link rel="prefetch" href="/assets/js/136.d5434ef4.js"><link rel="prefetch" href="/assets/js/137.aefa600d.js"><link rel="prefetch" href="/assets/js/138.00d829f8.js"><link rel="prefetch" href="/assets/js/139.fa3af3a0.js"><link rel="prefetch" href="/assets/js/14.3ec7ba2c.js"><link rel="prefetch" href="/assets/js/140.65655e4b.js"><link rel="prefetch" href="/assets/js/141.51c0ec0a.js"><link rel="prefetch" href="/assets/js/142.aa405a6d.js"><link rel="prefetch" href="/assets/js/143.7ef37d04.js"><link rel="prefetch" href="/assets/js/144.813a767b.js"><link rel="prefetch" href="/assets/js/145.ac7bbacf.js"><link rel="prefetch" href="/assets/js/146.f604aa88.js"><link rel="prefetch" href="/assets/js/147.5b1e7ab8.js"><link rel="prefetch" href="/assets/js/148.f1c25d01.js"><link rel="prefetch" href="/assets/js/149.e1de4f68.js"><link rel="prefetch" href="/assets/js/15.151539ae.js"><link rel="prefetch" href="/assets/js/150.d8785b19.js"><link rel="prefetch" href="/assets/js/151.97e4d45f.js"><link rel="prefetch" href="/assets/js/152.60b9a345.js"><link rel="prefetch" href="/assets/js/153.c215540b.js"><link rel="prefetch" href="/assets/js/154.d80adb79.js"><link rel="prefetch" href="/assets/js/155.067c9183.js"><link rel="prefetch" href="/assets/js/156.564c5338.js"><link rel="prefetch" href="/assets/js/157.f6e4fb9f.js"><link rel="prefetch" href="/assets/js/158.2780e531.js"><link rel="prefetch" href="/assets/js/159.95a9bbc1.js"><link rel="prefetch" href="/assets/js/16.f1797f39.js"><link rel="prefetch" href="/assets/js/160.f4445c3b.js"><link rel="prefetch" href="/assets/js/161.7ec4dccc.js"><link rel="prefetch" href="/assets/js/162.7ba8ee46.js"><link rel="prefetch" href="/assets/js/163.f0aa8208.js"><link rel="prefetch" href="/assets/js/164.4fe8c403.js"><link rel="prefetch" href="/assets/js/165.2d8ce405.js"><link rel="prefetch" href="/assets/js/166.6aa05391.js"><link rel="prefetch" href="/assets/js/167.82768149.js"><link rel="prefetch" href="/assets/js/168.b81a0c2a.js"><link rel="prefetch" href="/assets/js/169.435758b2.js"><link rel="prefetch" href="/assets/js/17.1c3e6588.js"><link rel="prefetch" href="/assets/js/170.4a19f99a.js"><link rel="prefetch" href="/assets/js/171.8b67db69.js"><link rel="prefetch" href="/assets/js/172.e4af9969.js"><link rel="prefetch" href="/assets/js/173.ea79fae8.js"><link rel="prefetch" href="/assets/js/174.bdfb4cb2.js"><link rel="prefetch" href="/assets/js/175.c31a370d.js"><link rel="prefetch" href="/assets/js/176.41fc6fc9.js"><link rel="prefetch" href="/assets/js/177.d49686da.js"><link rel="prefetch" href="/assets/js/178.9fc70e1d.js"><link rel="prefetch" href="/assets/js/179.9773da56.js"><link rel="prefetch" href="/assets/js/18.4e631205.js"><link rel="prefetch" href="/assets/js/180.edebbc8c.js"><link rel="prefetch" href="/assets/js/181.9c7e1e79.js"><link rel="prefetch" href="/assets/js/182.34c52e30.js"><link rel="prefetch" href="/assets/js/183.9702d486.js"><link rel="prefetch" href="/assets/js/184.34ceb786.js"><link rel="prefetch" href="/assets/js/185.e536c5d5.js"><link rel="prefetch" href="/assets/js/186.11665bdc.js"><link rel="prefetch" href="/assets/js/187.5ad2506b.js"><link rel="prefetch" href="/assets/js/188.94d50a82.js"><link rel="prefetch" href="/assets/js/189.e94b7567.js"><link rel="prefetch" href="/assets/js/19.07dc175d.js"><link rel="prefetch" href="/assets/js/190.a44802e9.js"><link rel="prefetch" href="/assets/js/191.2710b7f4.js"><link rel="prefetch" href="/assets/js/192.8fa54ace.js"><link rel="prefetch" href="/assets/js/193.45b30c52.js"><link rel="prefetch" href="/assets/js/194.34eb3369.js"><link rel="prefetch" href="/assets/js/195.e800d01e.js"><link rel="prefetch" href="/assets/js/196.993e37d7.js"><link rel="prefetch" href="/assets/js/197.cfd0371e.js"><link rel="prefetch" href="/assets/js/198.7e41a7ba.js"><link rel="prefetch" href="/assets/js/199.98b8b4e2.js"><link rel="prefetch" href="/assets/js/20.a23c95ca.js"><link rel="prefetch" href="/assets/js/200.dd8af084.js"><link rel="prefetch" href="/assets/js/201.b0651559.js"><link rel="prefetch" href="/assets/js/202.9fda4a48.js"><link rel="prefetch" href="/assets/js/203.ed8c4ff4.js"><link rel="prefetch" href="/assets/js/204.35587f6c.js"><link rel="prefetch" href="/assets/js/205.321dcf85.js"><link rel="prefetch" href="/assets/js/206.9b73d45c.js"><link rel="prefetch" href="/assets/js/207.1db9d0bc.js"><link rel="prefetch" href="/assets/js/208.2323fc5c.js"><link rel="prefetch" href="/assets/js/209.073cc71d.js"><link rel="prefetch" href="/assets/js/21.a9782f3b.js"><link rel="prefetch" href="/assets/js/210.72f984ce.js"><link rel="prefetch" href="/assets/js/211.d9917eee.js"><link rel="prefetch" href="/assets/js/212.9ea4d869.js"><link rel="prefetch" href="/assets/js/213.c02335e9.js"><link rel="prefetch" href="/assets/js/214.4a142067.js"><link rel="prefetch" href="/assets/js/215.8ed26078.js"><link rel="prefetch" href="/assets/js/216.0a0fd08f.js"><link rel="prefetch" href="/assets/js/217.a33898a0.js"><link rel="prefetch" href="/assets/js/218.5957a55c.js"><link rel="prefetch" href="/assets/js/219.2dce84f7.js"><link rel="prefetch" href="/assets/js/22.3792846c.js"><link rel="prefetch" href="/assets/js/220.830eaf36.js"><link rel="prefetch" href="/assets/js/221.aae7daca.js"><link rel="prefetch" href="/assets/js/222.36ee8bea.js"><link rel="prefetch" href="/assets/js/223.e4ee05e9.js"><link rel="prefetch" href="/assets/js/224.e7f443fc.js"><link rel="prefetch" href="/assets/js/225.dfa85f47.js"><link rel="prefetch" href="/assets/js/226.71e9b973.js"><link rel="prefetch" href="/assets/js/227.8484d6cc.js"><link rel="prefetch" href="/assets/js/228.f6928d72.js"><link rel="prefetch" href="/assets/js/229.fea960db.js"><link rel="prefetch" href="/assets/js/23.019e73dd.js"><link rel="prefetch" href="/assets/js/230.d86e0be9.js"><link rel="prefetch" href="/assets/js/231.3bbf02cc.js"><link rel="prefetch" href="/assets/js/232.8df33f46.js"><link rel="prefetch" href="/assets/js/233.cb8d0b73.js"><link rel="prefetch" href="/assets/js/234.e46ce374.js"><link rel="prefetch" href="/assets/js/235.dbac9148.js"><link rel="prefetch" href="/assets/js/236.a24aa05a.js"><link rel="prefetch" href="/assets/js/237.9713dbec.js"><link rel="prefetch" href="/assets/js/238.ae583618.js"><link rel="prefetch" href="/assets/js/239.3ed46955.js"><link rel="prefetch" href="/assets/js/24.d7969000.js"><link rel="prefetch" href="/assets/js/240.865b07ed.js"><link rel="prefetch" href="/assets/js/241.774c50b3.js"><link rel="prefetch" href="/assets/js/242.3dea429a.js"><link rel="prefetch" href="/assets/js/243.d066ef46.js"><link rel="prefetch" href="/assets/js/244.4314f19c.js"><link rel="prefetch" href="/assets/js/245.7411c815.js"><link rel="prefetch" href="/assets/js/246.04f4cf64.js"><link rel="prefetch" href="/assets/js/247.a8d37f4b.js"><link rel="prefetch" href="/assets/js/248.02e38126.js"><link rel="prefetch" href="/assets/js/249.17761090.js"><link rel="prefetch" href="/assets/js/25.bbf9411e.js"><link rel="prefetch" href="/assets/js/250.e0474f9d.js"><link rel="prefetch" href="/assets/js/251.4ee85ae5.js"><link rel="prefetch" href="/assets/js/252.6946d29c.js"><link rel="prefetch" href="/assets/js/253.b13399dd.js"><link rel="prefetch" href="/assets/js/254.f5a78fe5.js"><link rel="prefetch" href="/assets/js/255.67794845.js"><link rel="prefetch" href="/assets/js/256.34867632.js"><link rel="prefetch" href="/assets/js/257.58ef8ea4.js"><link rel="prefetch" href="/assets/js/258.840f1f69.js"><link rel="prefetch" href="/assets/js/259.c4ca3aae.js"><link rel="prefetch" href="/assets/js/26.eb158c2d.js"><link rel="prefetch" href="/assets/js/260.a8766ee4.js"><link rel="prefetch" href="/assets/js/261.c450d645.js"><link rel="prefetch" href="/assets/js/262.5dfb132e.js"><link rel="prefetch" href="/assets/js/263.d105b504.js"><link rel="prefetch" href="/assets/js/264.9c51b91a.js"><link rel="prefetch" href="/assets/js/265.cd869d87.js"><link rel="prefetch" href="/assets/js/266.2c81f2aa.js"><link rel="prefetch" href="/assets/js/267.0eb433a5.js"><link rel="prefetch" href="/assets/js/268.61403538.js"><link rel="prefetch" href="/assets/js/269.d8a5aa4a.js"><link rel="prefetch" href="/assets/js/27.a2d7eacd.js"><link rel="prefetch" href="/assets/js/270.9aa28099.js"><link rel="prefetch" href="/assets/js/271.c97defb3.js"><link rel="prefetch" href="/assets/js/272.28278b0b.js"><link rel="prefetch" href="/assets/js/273.614942c0.js"><link rel="prefetch" href="/assets/js/274.afead1c8.js"><link rel="prefetch" href="/assets/js/275.82fc06e8.js"><link rel="prefetch" href="/assets/js/276.2ce1b15e.js"><link rel="prefetch" href="/assets/js/277.59413c64.js"><link rel="prefetch" href="/assets/js/278.40f50c75.js"><link rel="prefetch" href="/assets/js/279.4ec1739a.js"><link rel="prefetch" href="/assets/js/28.6a081e3d.js"><link rel="prefetch" href="/assets/js/280.61eb02df.js"><link rel="prefetch" href="/assets/js/281.15087a2b.js"><link rel="prefetch" href="/assets/js/282.2573cc17.js"><link rel="prefetch" href="/assets/js/283.054c9336.js"><link rel="prefetch" href="/assets/js/284.6a794878.js"><link rel="prefetch" href="/assets/js/285.12d934a1.js"><link rel="prefetch" href="/assets/js/286.29f567eb.js"><link rel="prefetch" href="/assets/js/287.d4f0bca8.js"><link rel="prefetch" href="/assets/js/288.7c1dd248.js"><link rel="prefetch" href="/assets/js/289.9f985dbb.js"><link rel="prefetch" href="/assets/js/29.88c3d7a0.js"><link rel="prefetch" href="/assets/js/290.3e3e8928.js"><link rel="prefetch" href="/assets/js/291.24ed9d7f.js"><link rel="prefetch" href="/assets/js/292.94fd80de.js"><link rel="prefetch" href="/assets/js/293.255bc297.js"><link rel="prefetch" href="/assets/js/294.84135584.js"><link rel="prefetch" href="/assets/js/295.89da57bd.js"><link rel="prefetch" href="/assets/js/296.90becf38.js"><link rel="prefetch" href="/assets/js/297.b4b88dbf.js"><link rel="prefetch" href="/assets/js/298.793c0f1f.js"><link rel="prefetch" href="/assets/js/299.2d9f2244.js"><link rel="prefetch" href="/assets/js/30.6e454535.js"><link rel="prefetch" href="/assets/js/301.32a4bff4.js"><link rel="prefetch" href="/assets/js/302.8f5aa694.js"><link rel="prefetch" href="/assets/js/303.47e446cd.js"><link rel="prefetch" href="/assets/js/304.e4fe1250.js"><link rel="prefetch" href="/assets/js/305.72f47081.js"><link rel="prefetch" href="/assets/js/306.b4f65a5b.js"><link rel="prefetch" href="/assets/js/307.3187f964.js"><link rel="prefetch" href="/assets/js/308.1c9924f7.js"><link rel="prefetch" href="/assets/js/309.7ed10c52.js"><link rel="prefetch" href="/assets/js/31.89805053.js"><link rel="prefetch" href="/assets/js/310.2e18354b.js"><link rel="prefetch" href="/assets/js/311.c125ff29.js"><link rel="prefetch" href="/assets/js/312.1a2d1d4f.js"><link rel="prefetch" href="/assets/js/313.8ad92b70.js"><link rel="prefetch" href="/assets/js/314.091fa0d3.js"><link rel="prefetch" href="/assets/js/315.29ba5d51.js"><link rel="prefetch" href="/assets/js/316.31ade9b8.js"><link rel="prefetch" href="/assets/js/317.7060fc04.js"><link rel="prefetch" href="/assets/js/318.6cf8cf4b.js"><link rel="prefetch" href="/assets/js/319.78eb7db8.js"><link rel="prefetch" href="/assets/js/32.c2a8ee5f.js"><link rel="prefetch" href="/assets/js/320.9b6f465f.js"><link rel="prefetch" href="/assets/js/321.379d2948.js"><link rel="prefetch" href="/assets/js/322.73fdbdd3.js"><link rel="prefetch" href="/assets/js/323.6caa2080.js"><link rel="prefetch" href="/assets/js/324.ab4dfd33.js"><link rel="prefetch" href="/assets/js/325.278e25db.js"><link rel="prefetch" href="/assets/js/326.462cf2df.js"><link rel="prefetch" href="/assets/js/327.f28c1c8f.js"><link rel="prefetch" href="/assets/js/328.8f58d3e2.js"><link rel="prefetch" href="/assets/js/329.6aa6d948.js"><link rel="prefetch" href="/assets/js/33.23184842.js"><link rel="prefetch" href="/assets/js/330.93eb9f9a.js"><link rel="prefetch" href="/assets/js/331.80b87cc1.js"><link rel="prefetch" href="/assets/js/332.68f247fb.js"><link rel="prefetch" href="/assets/js/333.dd69e3b6.js"><link rel="prefetch" href="/assets/js/334.59b3382a.js"><link rel="prefetch" href="/assets/js/335.039070e2.js"><link rel="prefetch" href="/assets/js/336.beaed5bb.js"><link rel="prefetch" href="/assets/js/337.b65c2e7f.js"><link rel="prefetch" href="/assets/js/338.290ea1fd.js"><link rel="prefetch" href="/assets/js/339.cfbeb3b3.js"><link rel="prefetch" href="/assets/js/34.d4ac227e.js"><link rel="prefetch" href="/assets/js/340.b2ca3fd2.js"><link rel="prefetch" href="/assets/js/341.e661e4d8.js"><link rel="prefetch" href="/assets/js/342.d521d8cb.js"><link rel="prefetch" href="/assets/js/343.699c8cd9.js"><link rel="prefetch" href="/assets/js/344.94a01b6d.js"><link rel="prefetch" href="/assets/js/345.360a3a9d.js"><link rel="prefetch" href="/assets/js/346.421e0004.js"><link rel="prefetch" href="/assets/js/347.067ddec2.js"><link rel="prefetch" href="/assets/js/348.8ff7500d.js"><link rel="prefetch" href="/assets/js/349.1cb157da.js"><link rel="prefetch" href="/assets/js/35.79be4c2d.js"><link rel="prefetch" href="/assets/js/350.f3122d6b.js"><link rel="prefetch" href="/assets/js/351.73ab553d.js"><link rel="prefetch" href="/assets/js/352.c1d9b8a9.js"><link rel="prefetch" href="/assets/js/353.b7b7ef35.js"><link rel="prefetch" href="/assets/js/354.26eb4816.js"><link rel="prefetch" href="/assets/js/355.77e39d15.js"><link rel="prefetch" href="/assets/js/356.b3b11ec8.js"><link rel="prefetch" href="/assets/js/357.e826e380.js"><link rel="prefetch" href="/assets/js/358.08caf944.js"><link rel="prefetch" href="/assets/js/359.8eaa97e8.js"><link rel="prefetch" href="/assets/js/36.b0bd125d.js"><link rel="prefetch" href="/assets/js/360.ff38e37d.js"><link rel="prefetch" href="/assets/js/361.2666265d.js"><link rel="prefetch" href="/assets/js/362.07e86e74.js"><link rel="prefetch" href="/assets/js/363.081cf1f1.js"><link rel="prefetch" href="/assets/js/364.033be969.js"><link rel="prefetch" href="/assets/js/365.f3ec12a0.js"><link rel="prefetch" href="/assets/js/366.5795988a.js"><link rel="prefetch" href="/assets/js/367.c7a03b31.js"><link rel="prefetch" href="/assets/js/368.fa987e7a.js"><link rel="prefetch" href="/assets/js/369.3d7d842e.js"><link rel="prefetch" href="/assets/js/37.cb6b2268.js"><link rel="prefetch" href="/assets/js/370.70957e5d.js"><link rel="prefetch" href="/assets/js/371.6758256c.js"><link rel="prefetch" href="/assets/js/372.e5a12ca8.js"><link rel="prefetch" href="/assets/js/373.24a33d42.js"><link rel="prefetch" href="/assets/js/374.71360427.js"><link rel="prefetch" href="/assets/js/375.7d66db26.js"><link rel="prefetch" href="/assets/js/376.ca08b015.js"><link rel="prefetch" href="/assets/js/377.9aae8605.js"><link rel="prefetch" href="/assets/js/378.82b57f2e.js"><link rel="prefetch" href="/assets/js/379.70e2c604.js"><link rel="prefetch" href="/assets/js/38.02d1febb.js"><link rel="prefetch" href="/assets/js/380.6ccc50ac.js"><link rel="prefetch" href="/assets/js/381.c66cc311.js"><link rel="prefetch" href="/assets/js/382.18d480ab.js"><link rel="prefetch" href="/assets/js/383.621c20db.js"><link rel="prefetch" href="/assets/js/384.d9ed68d0.js"><link rel="prefetch" href="/assets/js/385.552a868c.js"><link rel="prefetch" href="/assets/js/386.48562ecd.js"><link rel="prefetch" href="/assets/js/387.25d5c791.js"><link rel="prefetch" href="/assets/js/388.8dd5308f.js"><link rel="prefetch" href="/assets/js/389.b793f086.js"><link rel="prefetch" href="/assets/js/39.52b78afa.js"><link rel="prefetch" href="/assets/js/390.c1b37ee1.js"><link rel="prefetch" href="/assets/js/391.cc6f6f1b.js"><link rel="prefetch" href="/assets/js/392.f635630d.js"><link rel="prefetch" href="/assets/js/393.4ff90fa7.js"><link rel="prefetch" href="/assets/js/394.397244ff.js"><link rel="prefetch" href="/assets/js/395.18236afd.js"><link rel="prefetch" href="/assets/js/396.33051f11.js"><link rel="prefetch" href="/assets/js/397.6829ff8e.js"><link rel="prefetch" href="/assets/js/398.3f6541b5.js"><link rel="prefetch" href="/assets/js/399.3a6bb206.js"><link rel="prefetch" href="/assets/js/4.3bb46a9f.js"><link rel="prefetch" href="/assets/js/40.c160b9fd.js"><link rel="prefetch" href="/assets/js/400.926d58c3.js"><link rel="prefetch" href="/assets/js/401.fa3a64c7.js"><link rel="prefetch" href="/assets/js/402.586739cf.js"><link rel="prefetch" href="/assets/js/403.e8bea648.js"><link rel="prefetch" href="/assets/js/404.40feb4b5.js"><link rel="prefetch" href="/assets/js/405.ea78f429.js"><link rel="prefetch" href="/assets/js/406.06a34634.js"><link rel="prefetch" href="/assets/js/407.b265c7b5.js"><link rel="prefetch" href="/assets/js/408.3b9353c4.js"><link rel="prefetch" href="/assets/js/409.c5cc81c6.js"><link rel="prefetch" href="/assets/js/41.0aba3e27.js"><link rel="prefetch" href="/assets/js/410.7914c481.js"><link rel="prefetch" href="/assets/js/411.80e7a82f.js"><link rel="prefetch" href="/assets/js/412.ec4398a7.js"><link rel="prefetch" href="/assets/js/413.9bf037d5.js"><link rel="prefetch" href="/assets/js/414.f22b0ded.js"><link rel="prefetch" href="/assets/js/415.a18709ff.js"><link rel="prefetch" href="/assets/js/416.83310c95.js"><link rel="prefetch" href="/assets/js/417.4b19e45b.js"><link rel="prefetch" href="/assets/js/42.a2225282.js"><link rel="prefetch" href="/assets/js/43.60b8cc73.js"><link rel="prefetch" href="/assets/js/44.d1bd963b.js"><link rel="prefetch" href="/assets/js/45.a2d474d6.js"><link rel="prefetch" href="/assets/js/46.eac472d0.js"><link rel="prefetch" href="/assets/js/47.542459f0.js"><link rel="prefetch" href="/assets/js/48.341b8db8.js"><link rel="prefetch" href="/assets/js/49.a786e041.js"><link rel="prefetch" href="/assets/js/5.28151e60.js"><link rel="prefetch" href="/assets/js/50.3e9d91ce.js"><link rel="prefetch" href="/assets/js/51.0729208c.js"><link rel="prefetch" href="/assets/js/52.76bd2586.js"><link rel="prefetch" href="/assets/js/53.5ff982be.js"><link rel="prefetch" href="/assets/js/54.23f15748.js"><link rel="prefetch" href="/assets/js/55.27a2694b.js"><link rel="prefetch" href="/assets/js/56.8f284c7f.js"><link rel="prefetch" href="/assets/js/57.90d019e1.js"><link rel="prefetch" href="/assets/js/58.7b6dc848.js"><link rel="prefetch" href="/assets/js/59.bcd80f71.js"><link rel="prefetch" href="/assets/js/6.499be6d9.js"><link rel="prefetch" href="/assets/js/60.64e983eb.js"><link rel="prefetch" href="/assets/js/61.d22192ff.js"><link rel="prefetch" href="/assets/js/62.c84c7aaa.js"><link rel="prefetch" href="/assets/js/63.dd026eb1.js"><link rel="prefetch" href="/assets/js/64.2f75d60b.js"><link rel="prefetch" href="/assets/js/65.dc493049.js"><link rel="prefetch" href="/assets/js/66.edd545c7.js"><link rel="prefetch" href="/assets/js/67.798cfbfc.js"><link rel="prefetch" href="/assets/js/68.b0ebc9d8.js"><link rel="prefetch" href="/assets/js/69.c929ddc2.js"><link rel="prefetch" href="/assets/js/7.2497c05f.js"><link rel="prefetch" href="/assets/js/70.3c2e3a65.js"><link rel="prefetch" href="/assets/js/71.db3a0474.js"><link rel="prefetch" href="/assets/js/72.24df9a07.js"><link rel="prefetch" href="/assets/js/73.cd7f0a9d.js"><link rel="prefetch" href="/assets/js/74.c940ffba.js"><link rel="prefetch" href="/assets/js/75.567ac3b4.js"><link rel="prefetch" href="/assets/js/76.72062db1.js"><link rel="prefetch" href="/assets/js/77.3bcb196b.js"><link rel="prefetch" href="/assets/js/78.e82d2ca7.js"><link rel="prefetch" href="/assets/js/79.495fd885.js"><link rel="prefetch" href="/assets/js/8.71ec8233.js"><link rel="prefetch" href="/assets/js/80.7eb160e3.js"><link rel="prefetch" href="/assets/js/81.d83716f9.js"><link rel="prefetch" href="/assets/js/82.a16620eb.js"><link rel="prefetch" href="/assets/js/83.109e69d7.js"><link rel="prefetch" href="/assets/js/84.19098fb4.js"><link rel="prefetch" href="/assets/js/85.3f36c2e3.js"><link rel="prefetch" href="/assets/js/86.f8bed698.js"><link rel="prefetch" href="/assets/js/87.00204387.js"><link rel="prefetch" href="/assets/js/88.23ecf470.js"><link rel="prefetch" href="/assets/js/89.dbe77c40.js"><link rel="prefetch" href="/assets/js/9.241577bb.js"><link rel="prefetch" href="/assets/js/90.a106e2e7.js"><link rel="prefetch" href="/assets/js/91.dcded4ed.js"><link rel="prefetch" href="/assets/js/92.14236817.js"><link rel="prefetch" href="/assets/js/93.c4509213.js"><link rel="prefetch" href="/assets/js/94.8e569620.js"><link rel="prefetch" href="/assets/js/95.0cc80ef4.js"><link rel="prefetch" href="/assets/js/96.8f74c17c.js"><link rel="prefetch" href="/assets/js/97.77e41f84.js"><link rel="prefetch" href="/assets/js/98.bf44b86d.js"><link rel="prefetch" href="/assets/js/99.f75896be.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.029a7c95.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5d34d66f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">以太坊改进提案 EIPs</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="https://ethlibrary.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  About us
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/ethlibrary/EIPs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="https://ethlibrary.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  About us
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <a href="https://github.com/ethlibrary/EIPs" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><a href="/summary/all.html" class="sidebar-link">All EIPs List</a></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>EIPs by Status</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/summary/living.html" class="sidebar-link">Living (1)</a></li><li><a href="/summary/final.html" class="sidebar-link">Final (88)</a></li><li><a href="/summary/draft.html" class="sidebar-link">Draft (157)</a></li><li><a href="/summary/stagnant.html" class="sidebar-link">Stagnant (101)</a></li><li><a href="/summary/withdrawn.html" class="sidebar-link">Withdrawn (22)</a></li><li><a href="/summary/last-call.html" class="sidebar-link">Last Call (8)</a></li><li><a href="/summary/review.html" class="sidebar-link">Review (14)</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>EIPs by Types</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/summary/meta.html" class="sidebar-link">Meta (18)</a></li><li><a href="/summary/standards-track.html" class="sidebar-link">Standards Track (367)</a></li><li><a href="/summary/informational.html" class="sidebar-link">Informational (6)</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>EIPs by Category</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/summary/core.html" class="sidebar-link">Core (165)</a></li><li><a href="/summary/erc.html" class="sidebar-link">ERC (153)</a></li><li><a href="/summary/interface.html" class="sidebar-link">Interface (38)</a></li><li><a href="/summary/networking.html" class="sidebar-link">Networking (11)</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="simple-summary"><a href="#simple-summary" class="header-anchor">#</a> Simple Summary</h2> <p>A technique for contract authors to enable wallets to provide
a human-readable description of what a given contract
interaction (via a transaction or signed message) will perform.</p> <h2 id="abstract"><a href="#abstract" class="header-anchor">#</a> Abstract</h2> <p>Human-readable descriptions for machine executable operations,
described in higher level machine readable data, so that wallets
can provide meaningful feedback to the user describing the
action the user is about to perform.</p> <h2 id="motivation"><a href="#motivation" class="header-anchor">#</a> Motivation</h2> <p>When using an Ethereum Wallet (e.g. MetaMask, Clef, Hardware
Wallets) users must accept and authorize signing messages or
sending transactions.</p> <p>Due to the complexity of Ethereum transactions, wallets are very
limitd in their ability to provide insight into the contents of
transactions user are approving; outside special-cased support
for common transactions such as ERC20 transfers, this often amounts
to asking the user to sign an opaque blob of binary data.</p> <p>This EIP presents a method for dapp developers to enable a more
comfortable user experience by providing wallets with a means
to generate a better description about what the contract claims
will happen.</p> <p>It does not address malicious contracts which wish to lie, it
only addresses honest contracts that want to make their user's
life better. We believe that this is a reasonable security model,
as transaction descriptions can be audited at the same time as
contract code, allowing auditors and code reviewers to check that
transaction descriptions are accurate as part of their review.</p> <h2 id="specification"><a href="#specification" class="header-anchor">#</a> Specification</h2> <p>The <strong>description string</strong> and <strong>described data</strong> are generated
simultaneously by evaluating the contract
(i.e. the <strong>describer</strong>), passing the <strong>describer inputs</strong> to the
method:</p> <div class="language-solidity line-numbers-mode"><pre class="language-solidity"><code><span class="token keyword">function</span> <span class="token function">eipXXXDescribe</span><span class="token punctuation">(</span><span class="token builtin">bytes</span> describer_inputs<span class="token punctuation">)</span> <span class="token keyword">view</span> <span class="token keyword">returns</span> <span class="token punctuation">(</span><span class="token builtin">string</span> description_string<span class="token punctuation">,</span> <span class="token builtin">bytes</span> described_data<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>The method must be executable in a static context, (i.e. any
side effects, such as logX, sstore, etc.), including through
indirect calls may be ignored.</p> <p>During evaluation, the <code>ADDRESS</code> (i.e. <code>to</code>), <code>CALLER</code>
(i.e. <code>from</code>), <code>VALUE</code>, and <code>GASPRICE</code> must be the same as the
values for the transaction being described, so that the
code generating the description can rely on them. For signing
<strong>described messages</strong>, <code>VALUE</code> should always be 0.</p> <p>When executing the bytecode, best efforts should be made to
ensure <code>BLOCKHASH</code>, <code>NUMBER</code>, <code>TIMESTAMP</code> and <code>DIFFICULTY</code>
match the <code>&quot;latest&quot;</code> block. The <code>COINBASE</code> should be the zero
address.</p> <p>The method may revert, in which case the signing must be aborted.</p> <h3 id="new-json-rpc-methods"><a href="#new-json-rpc-methods" class="header-anchor">#</a> New JSON-RPC Methods</h3> <p>Clients which manage private keys should expose additional
methods for interacting with the related accounts.</p> <p>If an user interface is not present or expected for any other
account-based operations, the description strings should be
ignored and the described data used directly.</p> <p>These JSON-RPC methods will also be implemented in standard
Ethereum libraries, so the JSON-RPC description is meant more
of a canonical way to describe them.</p> <h3 id="signing-described-messages"><a href="#signing-described-messages" class="header-anchor">#</a> Signing Described Messages</h3> <div class="language-solidity line-numbers-mode"><pre class="language-solidity"><code><span class="token function">eth_signDescribedMessage</span><span class="token punctuation">(</span><span class="token builtin">address</span><span class="token punctuation">,</span> describer<span class="token punctuation">,</span> describerInput<span class="token punctuation">)</span>
<span class="token comment">// Result: {</span>
<span class="token comment">//   description: &quot;text/plain;Hello World&quot;,</span>
<span class="token comment">//   data: &quot;0x...&quot;, // described data</span>
<span class="token comment">//   signature: &quot;0x...&quot;</span>
<span class="token comment">// }</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>Compute the <strong>description string</strong> and <strong>described data</strong> by
evaluating the call to <strong>describer</strong>, with the
<strong>describerInput</strong> passed to the ABI encoded call to
<code>eipXXXDescription(bytes)</code>. The <code>VALUE</code> during execution must
be 0.</p> <p>If the wallet contains a user interface for accepting or
denying signing a message, it should present the description
string to the user. Optionally, a wallet may wish to
additionally provide a way to examine the described data.</p> <p>If accepted, the computed <strong>described data</strong> is signed
according to <a href="/eip-191.html">EIP-191</a>, with the <em>version
byte</em> of <code>0x00</code> and the <em>version specific data</em> of describer
address.</p> <p>That is:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>0x19   0x00   DESCRIBER_ADDRESS   0xDESCRIBED_DATA
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>The returned result includes the <strong>described data</strong>, allowing
dapps that use parameters computed in the contract to be
available.</p> <h3 id="sending-described-transactions"><a href="#sending-described-transactions" class="header-anchor">#</a> Sending Described Transactions</h3> <div class="language-solidity line-numbers-mode"><pre class="language-solidity"><code><span class="token function">eth_sendDescribedTransaction</span><span class="token punctuation">(</span><span class="token builtin">address</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  to<span class="token punctuation">:</span> <span class="token string">&quot;0x...&quot;</span><span class="token punctuation">,</span>
  value<span class="token punctuation">:</span> <span class="token number">1234</span><span class="token punctuation">,</span>
  nonce<span class="token punctuation">:</span> <span class="token number">42</span><span class="token punctuation">,</span>
  gas<span class="token punctuation">:</span> <span class="token number">42000</span><span class="token punctuation">,</span>
  gasPrice<span class="token punctuation">:</span> <span class="token number">9000000000</span><span class="token punctuation">,</span>
  describerInput<span class="token punctuation">:</span> <span class="token string">&quot;0x1234...&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// Result: {</span>
<span class="token comment">//   description: &quot;text/plain;Hello World&quot;,</span>
<span class="token comment">//   transaction: &quot;0x...&quot;, // serialized signed transaction</span>
<span class="token comment">// }</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>Compute the <strong>description string</strong> and <strong>described data</strong> by
evaluating the call to the <strong>describer</strong> <code>to</code>, with the
<strong>describerInput</strong> passed  to the ABI encoded call to
<code>eipXXXDescription(bytes)</code>.</p> <p>If the wallet contains a user interface for accepting or
denying a transaction, it should present the description string
along with fee and value information. Optionally, a wallet may
wish to additionally provide a way to further examine the
transaction.</p> <p>If accepted, the transaction data is set to the computed
<strong>described data</strong>, the derived transaction is signed and sent,
and the <strong>description string</strong> and serialized signed
transaction is returned.</p> <h3 id="signing-described-transaction"><a href="#signing-described-transaction" class="header-anchor">#</a> Signing Described Transaction</h3> <div class="language-solidity line-numbers-mode"><pre class="language-solidity"><code><span class="token function">eth_signDescribedTransaction</span><span class="token punctuation">(</span><span class="token builtin">address</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  to<span class="token punctuation">:</span> <span class="token string">&quot;0x...&quot;</span><span class="token punctuation">,</span>
  value<span class="token punctuation">:</span> <span class="token number">1234</span><span class="token punctuation">,</span>
  nonce<span class="token punctuation">:</span> <span class="token number">42</span><span class="token punctuation">,</span>
  gas<span class="token punctuation">:</span> <span class="token number">42000</span><span class="token punctuation">,</span>
  gasPrice<span class="token punctuation">:</span> <span class="token number">9000000000</span><span class="token punctuation">,</span>
  describerInput<span class="token punctuation">:</span> <span class="token string">&quot;0x1234...&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token comment">// Result: {</span>
<span class="token comment">//   description: &quot;text/plain;Hello World&quot;,</span>
<span class="token comment">//   transaction: &quot;0x...&quot;, // serialized signed transaction</span>
<span class="token comment">// }</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>Compute the <strong>description string</strong> and <strong>described data</strong> by
evaluating the call to the <strong>describer</strong> <code>to</code>, with the
<strong>describerInput</strong> passed  to the ABI encoded call to
<code>eipXXXDescription(bytes)</code>.</p> <p>If the wallet contains a user interface for accepting or
denying a transaction, it should present the description string
along with fee and value information. Optionally, a wallet may
wish to additionally provide a way to further examine the
transaction.</p> <p>If accepted, the transaction data is set to the computed
<strong>described data</strong>, the derived transaction is signed (and not
sent) and the <strong>description string</strong> and serialized signed
transaction is returned.</p> <h3 id="description-strings"><a href="#description-strings" class="header-anchor">#</a> Description Strings</h3> <p>A <strong>description string</strong> must begin with a mime-type followed
by a semi-colon (<code>;</code>). This EIP specifies only the <code>text/plain</code>
mime-type, but future EIPs may specify additional types to
enable more rich processing, such as <code>text/markdown</code> so that
addresses can be linkable within clients or to enable
multi-locale options, similar to multipart/form-data.</p> <h2 id="rationale"><a href="#rationale" class="header-anchor">#</a> Rationale</h2> <h3 id="meta-description"><a href="#meta-description" class="header-anchor">#</a> Meta Description</h3> <p>There have been many attempts to solve this problem, many of
which attempt to examine the encoded transaction data or
message data directly.</p> <p>In many cases, the information that would be necessary for a
meaningful description is not present in the final encoded
transaction data or message data.</p> <p>Instead this EIP uses an indirect description of the data.</p> <p>For example, the <code>commit(bytes32)</code> method of ENS places a
commitement <strong>hash</strong> on-chain. The hash contains the
<strong>blinded</strong> name and address; since the name is blinded, the
encoded data (i.e. the hash) no longer contains the original
values and is insufficient to access the necessary values to
be included in a description.</p> <p>By instead describing the commitment indirectly (with the
original information intact: NAME, ADDRESS and SECRET) a
meaningful description can be computed (e.g. &quot;commit to NAME for ADDRESS (with SECRET)&quot;)
and the matching data can be computed (i.e. <code>commit(hash(name, owner, secret))</code>).</p> <h3 id="entangling-the-contract-address"><a href="#entangling-the-contract-address" class="header-anchor">#</a> Entangling the Contract Address</h3> <p>To prevent data being signed from one contract being used
against another, the contract address is entanlged into
both the transaction (implicitly via the <code>to</code> field) and
in messages by the EIP-191 versions specific data.</p> <p>The use of the zero address is reserved.</p> <h3 id="alternatives"><a href="#alternatives" class="header-anchor">#</a> Alternatives</h3> <ul><li><p>NatSpec and company are a class of more complex languages that attempt to describe the encoded data directly. Because of the language complexity they often end up being quite large requiring entire runtime environments with ample processing power and memory, as well as additional sandboxing to reduce security concerns. One goal of this is to reduce the complexity to something that could execute on hardware wallets and other simple wallets. These also describe the data directly, which in many cases (such as blinded data), cannot adequately describe the data at all</p></li> <li><p>Custom Languages; due to the complexity of Ethereum transactions, any language used would require a lot of expressiveness and re-inventing the wheel. The EVM already exists (it may not be ideal), but it is there and can handle everything necessary.</p></li> <li><p>Format Strings (e.g. Trustless Signing UI Protocol; format strings can only operate on the class of regular languages, which in many cases is insufficient to describe an Ethereum transaction. This was an issue quite often during early attempts at solving this problem.</p></li> <li><p>The signTypedData <a href="/eip-712.html">EIP-712</a> has many parallels to what this EIP aims to solve</p></li> <li><p>@TODO: More</p></li></ul> <h2 id="backwards-compatibility"><a href="#backwards-compatibility" class="header-anchor">#</a> Backwards Compatibility</h2> <p>All signatures for messages are generated using <a href="/eip-191.html">EIP-191</a>
which had a previously compatible version byte of <code>0x00</code>, so
there should be no concerns with backwards compatibility.</p> <h2 id="test-cases"><a href="#test-cases" class="header-anchor">#</a> Test Cases</h2> <p>All test cases operate against the published and verified contracts:</p> <ul><li><a href="https://ropsten.etherscan.io/address/0x7a89c0521604008c93c97aa76950198bca73d933#code" target="_blank" rel="noopener noreferrer">Formatter<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://ropsten.etherscan.io/address/0xab3045aa85cbcabb06ed3f3fe968fa5457727270#code" target="_blank" rel="noopener noreferrer">TestFormatter<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>The private key used for signing messages and transactions is:</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>privateKey = &quot;0x6283185307179586476925286766559005768394338798750211641949889184&quot;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h3 id="messages"><a href="#messages" class="header-anchor">#</a> Messages</h3> <p><strong>Example: login with signed message</strong></p> <ul><li>sends selector login()</li> <li>received data with selector doLogin(bytes32 timestamp)</li></ul> <div class="language- line-numbers-mode"><pre class="language-text"><code>Input:
  Address:         0xab3045AA85cBCaBb06eD3F3FE968fA5457727270
  Describer Input: 0xb34e97e800000000000000000000000000000000000000000000000000000000
  i.e.             encode(
                       [ &quot;bytes4&quot; ],
                       [ SEL(&quot;login()&quot;) ]
                   )

Output:
  Description:     text/plain;Log into ethereum.org?
  Data:            0x14629d78000000000000000000000000000000000000000000000000000000006010d607
  i.e.             encodeWithSelector(&quot;doLogin(bytes32)&quot;, &quot;0x000000000000000000000000000000000000000000000000000000006010d607&quot; ]

Signing:
  Preimage:  0x1900ab3045aa85cbcabb06ed3f3fe968fa545772727014629d78000000000000000000000000000000000000000000000000000000006010d607
  Signature: 0x8b9def29343c85797a580c5cd3607c06e78a53351219f9ba706b9985c1a3c91e702bf678e07f5daf5ef48b3e3cc581202de233904b72cf2c4f7d714ce92075b21c
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h3 id="transactions"><a href="#transactions" class="header-anchor">#</a> Transactions</h3> <p>All transaction test cases use the ropsten network (chainId: 3)
and for all unspecified properties use 0.</p> <p><strong>Example: ERC-20 transfer</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>Input:
  Address:            0xab3045AA85cBCaBb06eD3F3FE968fA5457727270
  Describer Input:    0xa9059cbb000000000000000000000000000000000000000000000000000000000000000000000000000000008ba1f109551bd432803012645ac136ddd64dba720000000000000000000000000000000000000000000000002b992b75cbeb6000
  i.e.                encode(
                          [ &quot;bytes4&quot;, &quot;address&quot;, &quot;uint&quot;],
                          [ SEL(&quot;transfer(address,uint256)&quot;), &quot;0x8ba1f109551bD432803012645Ac136ddd64DBA72&quot;, 3.14159e18 ]
                      )
Output:
  Description:        text/plain;Send 3.14159 TOKN to &quot;ricmoose.eth&quot; (0x8ba1f109551bD432803012645Ac136ddd64DBA72)?
  Described Data:     0xa9059cbb0000000000000000000000000000000000000000000000002b992b75cbeb60000000000000000000000000008ba1f109551bd432803012645ac136ddd64dba72
  i.e.                encodeWithSelector(&quot;transfer(address,uint256)&quot;, &quot;0x8ba1f109551bD432803012645Ac136ddd64DBA72&quot;, 3.14159e18)

Signing:
  Signed Transaction: 0xf8a280808094ab3045aa85cbcabb06ed3f3fe968fa545772727080b844a9059cbb0000000000000000000000000000000000000000000000002b992b75cbeb60000000000000000000000000008ba1f109551bd432803012645ac136ddd64dba7229a0f33ea492d326ac32d9b7ae203c61bf7cf0ac576fb0cf8be8e4c63dc89c90de12a06c8efb28aaf3b70c032b3bd1edfc664578c49f040cf749bb19b000da56507fb2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p><strong>Example: ERC-20 approve</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>Input:
  Address:            0xab3045AA85cBCaBb06eD3F3FE968fA5457727270
  Describer Input:    0x095ea7b3000000000000000000000000000000000000000000000000000000000000000000000000000000008ba1f109551bd432803012645ac136ddd64dba720000000000000000000000000000000000000000000000002b992b75cbeb6000
  i.e.                encode(
                          [ &quot;bytes4&quot;, &quot;address&quot;, &quot;uint&quot;],
                          [ SEL(&quot;approve(address,uint256)&quot;), &quot;0x8ba1f109551bD432803012645Ac136ddd64DBA72&quot;, 3.14159e18 ]
                      )

Output:
  Description:        text/plain;Approve &quot;ricmoose.eth&quot; (0x8ba1f109551bD432803012645Ac136ddd64DBA72) to manage 3.14159 TOKN tokens?
  Described Data:     0xa9059cbb0000000000000000000000000000000000000000000000002b992b75cbeb60000000000000000000000000008ba1f109551bd432803012645ac136ddd64dba72
  i.e.                encodeWithSelector(&quot;approve(address,uint256)&quot;, &quot;0x8ba1f109551bD432803012645Ac136ddd64DBA72&quot;, 3.14159e18)

Signing:
  Signed Transaction: 0xf8a280808094ab3045aa85cbcabb06ed3f3fe968fa545772727080b844a9059cbb0000000000000000000000000000000000000000000000002b992b75cbeb60000000000000000000000000008ba1f109551bd432803012645ac136ddd64dba7229a0f33ea492d326ac32d9b7ae203c61bf7cf0ac576fb0cf8be8e4c63dc89c90de12a06c8efb28aaf3b70c032b3bd1edfc664578c49f040cf749bb19b000da56507fb2
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><strong>Example: ENS commit</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>Input:
  Address:            0xab3045AA85cBCaBb06eD3F3FE968fA5457727270
  Describer Input:    0x0f0e373f000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000080000000000000000000000000e31f43c1d823afaa67a8c5fbb8348176d225a79e65462b0520ef7d3df61b9992ed3bea0c56ead753be7c8b3614e0ce01e4cac41b00000000000000000000000000000000000000000000000000000000000000087269636d6f6f7365000000000000000000000000000000000000000000000000
  i.e.                encode(
                          [ &quot;bytes4&quot;, &quot;string&quot;, &quot;address&quot;, &quot;bytes32&quot;],
                          [ SEL(&quot;commit(string,address,bytes32)&quot;), &quot;ricmoose&quot;, &quot;0xE31f43C1d823AfAA67A8C5fbB8348176d225A79e&quot;, &quot;0x65462b0520ef7d3df61b9992ed3bea0c56ead753be7c8b3614e0ce01e4cac41b&quot; ]
                      )
  
Output:
  Description:        text/plain;Commit to the ENS name &quot;ricmoose.eth&quot; for 0xE31f43C1d823AfAA67A8C5fbB8348176d225A79e?
  Described Data:     0xf14fcbc8e4a4f2bb818545497be34c7ab30e6e87e0001df4ba82e7c8b3f224fbaf255b91
  i.e.                encodeWithSelector(&quot;commit(bytes32)&quot;, makeCommitment(&quot;ricmoose&quot;, &quot;0xE31f43C1d823AfAA67A8C5fbB8348176d225A79e&quot;, &quot;0x65462b0520ef7d3df61b9992ed3bea0c56ead753be7c8b3614e0ce01e4cac41b&quot;))

Signing:
  Signed Transaction: 0xf88180808094ab3045aa85cbcabb06ed3f3fe968fa545772727080a4f14fcbc8e4a4f2bb818545497be34c7ab30e6e87e0001df4ba82e7c8b3f224fbaf255b912aa0a62b41d1ebda584fe84cf8a05f61b429fe4ec361e13c17f30a23281106b38a8da00bcdd896fe758d8f0cfac46445a48f76f5e9fe27790d67c51412cb98a12a0844
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p><strong>Example: WETH mint()</strong></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>Input:
  Address:            0xab3045AA85cBCaBb06eD3F3FE968fA5457727270
  Describer Input:    0x1249c58b00000000000000000000000000000000000000000000000000000000
  i.e.                encode(
                          [ &quot;bytes4&quot; ],
                          [ SEL(&quot;mint()&quot;) ]
                      )
  Value:              1.23 ether

Output:
  Description:        text/plain;Mint 1.23 WETH (spending 1.23 ether)?
  Described Data:     0x1249c58b
  i.e.                encodeWithSelector(&quot;mint()&quot;)

Signing:
  Signed Transaction: 0xf86980808094ab3045aa85cbcabb06ed3f3fe968fa5457727270881111d67bb1bb0000841249c58b29a012df802e1394a97caab23c15c3a8c931668df4b2d6d604ca23f3f6b836d0aafca0071a2aebef6a9848616b4d618912f2003fb4babde3dba451b5246f866281a654
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br></div></div><h2 id="reference-implementation"><a href="#reference-implementation" class="header-anchor">#</a> Reference Implementation</h2> <p>@TODO (consider adding it as one or more files in <code>../assets/eip-####/</code>)</p> <p>I will add examples in Solidity and JavaScript.</p> <h2 id="security-considerations"><a href="#security-considerations" class="header-anchor">#</a> Security Considerations</h2> <h3 id="escaping-text"><a href="#escaping-text" class="header-anchor">#</a> Escaping Text</h3> <p>Wallets must be careful when displaying text provided by
contracts and proper efforts must be taken to sanitize
it, for example, be sure to consider:</p> <ul><li>HTML could be enbedded to attempt to trick web-based wallets into <a href="https://en.wikipedia.org/wiki/Code_injection" target="_blank" rel="noopener noreferrer">executing code<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> using the script tag (possibly uploading any private keys to a server)</li> <li>In general, extreme care must be used when rendering HTML; consider the ENS names <code>&lt;span style=&quot;display:none&quot;&gt;not-&lt;/span&gt;ricmoo.eth</code> or <code>&amp;thinsp;ricmoo.eth</code>, which if rendered without care would appear as <code>ricmoo.eth</code>, which it is not</li> <li>Other marks which require escaping could be included, such as quotes (<code>&quot;</code>), formatting (<code>\n</code> (new line), <code>\f</code> (form feed), <code>\t</code> (tab), any of many <a href="https://en.wikipedia.org/wiki/Whitespace_character#Spaces_in_Unicode" target="_blank" rel="noopener noreferrer">non-standard whitespaces<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>), back-slassh (<code>\</code>)</li> <li>UTF-8 has had bugs in the past which could allow arbitrary code execution and <a href="https://osxdaily.com/2015/05/27/bug-crashes-messages-app-ios-workaround/" target="_blank" rel="noopener noreferrer">crashing renderers<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>; consider using the UTF-8 replacement character (or <em>something</em>) for code-points outside common planes or common sub-sets within planes</li> <li><a href="https://en.wikipedia.org/wiki/IDN_homograph_attack" target="_blank" rel="noopener noreferrer">Homoglyphs attacks<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://en.wikipedia.org/wiki/Right-to-left_mark" target="_blank" rel="noopener noreferrer">Right-to-left<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> mark may affect rendering</li> <li>Many other things, deplnding on your environment</li></ul> <h3 id="distinguished-signed-data"><a href="#distinguished-signed-data" class="header-anchor">#</a> Distinguished Signed Data</h3> <p>Applications implementing this EIP to sign message data should
ensure there are no collisions within the data which could
result in ambiguously signed data.</p> <p>@TODO: Expand on this; compare packed data to ABI encoded data?</p> <h3 id="enumeration"><a href="#enumeration" class="header-anchor">#</a> Enumeration</h3> <p>If an abort occurs during signing, the response from this call
should match the response from a declined signing request;
otherwise this could be used for enumeration attacks, etc. A
random interactive-scale delay should also be added, otherwise
a &lt; 10ms response could be interpreted as an error.</p> <h3 id="replayablility"><a href="#replayablility" class="header-anchor">#</a> Replayablility</h3> <p>Transactions contain an explicit nonce, but signed messages do
not.</p> <p>For many purposes, such as signing in, a nonce could be
injected (using block.timestamp) into the data. The log in
service can verify this is a recent timestamp. The timestamp
may or may not be omitted from the description string in this
case, as it it largely useful internally only.</p> <p>In general, when signing messages a nonce often makes sense to
include to prevent the same signed data from being used in the
future.</p> <h2 id="copyright"><a href="#copyright" class="header-anchor">#</a> Copyright</h2> <p>Copyright and related rights waived via <a href="https://creativecommons.org/publicdomain/zero/1.0/" target="_blank" rel="noopener noreferrer">CC0<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/ethlibrary/EIPs/edit/master/EIPS/eip-3224.md" target="_blank" rel="noopener noreferrer">帮助完善文档</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">9/26/2021, 5:29:53 AM</span></div></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.3c081c0d.js" defer></script><script src="/assets/js/3.afc73834.js" defer></script><script src="/assets/js/300.b538064a.js" defer></script>
  </body>
</html>
